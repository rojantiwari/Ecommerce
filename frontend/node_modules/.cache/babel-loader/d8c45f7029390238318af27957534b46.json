{"ast":null,"code":"var _jsxFileName = \"E:\\\\College\\\\project\\\\Ecommerce\\\\frontend\\\\src\\\\screens\\\\DashboardScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useReducer } from \"react\";\nimport Chart from \"react-google-charts\";\nimport axios from \"axios\";\nimport { Store } from \"../Store\";\nimport { getError } from \"../utils\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_REQUEST\":\n      return { ...state,\n        loading: true\n      };\n\n    case \"FETCH_SUCCESS\":\n      return { ...state,\n        summary: action.payload,\n        loading: false\n      };\n\n    case \"FETCH_FAIL\":\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default function DashboardScreen() {\n  _s();\n\n  const [{\n    loading,\n    summary,\n    error\n  }, dispatch] = useReducer(reducer, {\n    loading: true,\n    error: \"\"\n  });\n  const {\n    state\n  } = useContext(Store);\n  const {\n    userInfo\n  } = state;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const {\n          data\n        } = await axios.get(\"/api/orders/summary\", {\n          headers: {\n            Authorization: `Bearer ${userInfo.token}`\n          }\n        });\n        dispatch({\n          type: \"FETCH_SUCCESS\",\n          payload: data\n        });\n      } catch (err) {\n        dispatch({\n          type: \"FETCH_FAIL\",\n          payload: getError(err)\n        });\n      }\n    };\n\n    fetchData();\n  }, [userInfo]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Dashboard \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), \" \", loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n      variant: \"danger\",\n      children: [\" \", error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 31\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: [\" \", summary.users && summary.users[0] ? summary.users[0].numUsers : 0, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \" Users \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 34\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: [\" \", summary.orders && summary.users[0] ? summary.orders[0].numOrders : 0, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \" Orders \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 34\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 21\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 27\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: [\"Rs \", summary.orders && summary.users[0] ? summary.orders[0].totalSales.toFixed(2) : 0, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \" Sales \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 34\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 21\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 27\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"dashtext\",\n          children: \" Categories \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), \" \", summary.productCategories.length === 0 ? /*#__PURE__*/_jsxDEV(MessageBox, {\n          children: \" No Category \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 68\n        }, this) : /*#__PURE__*/_jsxDEV(Chart, {\n          width: \"100%\",\n          height: \"400px\",\n          chartType: \"PieChart\",\n          loader: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \" Loading Chart... \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 44\n          }, this),\n          data: [[\"Category\", \"Products\"], ...summary.productCategories.map(x => [x._id, x.count])]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 35\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 27\n      }, this), \" \"]\n    }, void 0, true), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 14\n  }, this);\n}\n\n_s(DashboardScreen, \"UWhDplK1O7jjNeuWMopvVRxPS8g=\");\n\n_c = DashboardScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"DashboardScreen\");","map":{"version":3,"names":["React","useContext","useEffect","useReducer","Chart","axios","Store","getError","LoadingBox","MessageBox","Row","Col","Card","reducer","state","action","type","loading","summary","payload","error","DashboardScreen","dispatch","userInfo","fetchData","data","get","headers","Authorization","token","err","users","numUsers","orders","numOrders","totalSales","toFixed","productCategories","length","map","x","_id","count"],"sources":["E:/College/project/Ecommerce/frontend/src/screens/DashboardScreen.js"],"sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\nimport Chart from \"react-google-charts\";\nimport axios from \"axios\";\nimport { Store } from \"../Store\";\nimport { getError } from \"../utils\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case \"FETCH_REQUEST\":\n            return {...state, loading: true };\n        case \"FETCH_SUCCESS\":\n            return {\n                ...state,\n                summary: action.payload,\n                loading: false,\n            };\n        case \"FETCH_FAIL\":\n            return {...state, loading: false, error: action.payload };\n        default:\n            return state;\n    }\n};\nexport default function DashboardScreen() {\n    const [{ loading, summary, error }, dispatch] = useReducer(reducer, {\n        loading: true,\n        error: \"\",\n    });\n    const { state } = useContext(Store);\n    const { userInfo } = state;\n\n    useEffect(() => {\n        const fetchData = async() => {\n            try {\n                const { data } = await axios.get(\"/api/orders/summary\", {\n                    headers: { Authorization: `Bearer ${userInfo.token}` },\n                });\n                dispatch({ type: \"FETCH_SUCCESS\", payload: data });\n            } catch (err) {\n                dispatch({\n                    type: \"FETCH_FAIL\",\n                    payload: getError(err),\n                });\n            }\n        };\n        fetchData();\n    }, [userInfo]);\n\n    return ( <\n        div >\n        <\n        h1 > Dashboard < /h1> {\n            loading ? ( <\n                    LoadingBox / >\n                ) : error ? ( <\n                    MessageBox variant = \"danger\" > { error } < /MessageBox>\n                ) : ( <\n                    >\n                    <\n                    Row >\n                    <\n                    Col md = { 4 } >\n                    <\n                    Card >\n                    <\n                    Card.Body >\n                    <\n                    Card.Title > {\n                        summary.users && summary.users[0] ?\n                        summary.users[0].numUsers :\n                            0\n                    } <\n                    /Card.Title> <\n                    Card.Text > Users < /Card.Text> <\n                    /Card.Body> <\n                    /Card> <\n                    /Col> <\n                    Col md = { 4 } >\n                    <\n                    Card >\n                    <\n                    Card.Body >\n                    <\n                    Card.Title > {\n                        summary.orders && summary.users[0] ?\n                        summary.orders[0].numOrders :\n                            0\n                    } <\n                    /Card.Title> <\n                    Card.Text > Orders < /Card.Text> <\n                    /Card.Body> <\n                    /Card> <\n                    /Col> <\n                    Col md = { 4 } >\n                    <\n                    Card >\n                    <\n                    Card.Body >\n                    <\n                    Card.Title >\n                    Rs {\n                        summary.orders && summary.users[0] ?\n                            summary.orders[0].totalSales.toFixed(2) :\n                            0\n                    } <\n                    /Card.Title> <\n                    Card.Text > Sales < /Card.Text> <\n                    /Card.Body> <\n                    /Card> <\n                    /Col> <\n                    /Row> <\n                    div className = \"my-3\" >\n                    <\n                    h2 className = \"dashtext\" > Categories < /h2> {\n                        summary.productCategories.length === 0 ? ( <\n                                MessageBox > No Category < /MessageBox>\n                            ) : ( <\n                                Chart width = \"100%\"\n                                height = \"400px\"\n                                chartType = \"PieChart\"\n                                loader = { < div > Loading Chart... < /div>}\n                                    data = {\n                                        [\n                                            [\"Category\", \"Products\"],\n                                            ...summary.productCategories.map((x) => [x._id, x.count]),\n                                        ]\n                                    } >\n                                    < /Chart>\n                                )\n                            } <\n                            /div> <\n                            />\n                    )\n                } <\n                /div>\n        );\n    }"],"mappings":"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"},"metadata":{},"sourceType":"module"}